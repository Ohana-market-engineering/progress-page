<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'sans': ['Inter', 'system-ui', 'sans-serif'],
                    },
                    colors: {
                        'corporate': {
                            50: '#f8fafc',
                            100: '#f1f5f9',
                            200: '#e2e8f0',
                            300: '#cbd5e1',
                            400: '#94a3b8',
                            500: '#64748b',
                            600: '#475569',
                            700: '#334155',
                            800: '#1e293b',
                            900: '#0f172a',
                        },
                        'success': {
                            50: '#ecfdf5',
                            100: '#d1fae5',
                            500: '#10b981',
                            600: '#059669',
                            700: '#047857',
                        },
                        'info': {
                            50: '#eff6ff',
                            100: '#dbeafe',
                            500: '#3b82f6',
                            600: '#2563eb',
                        },
                        'warning': {
                            50: '#fffbeb',
                            100: '#fef3c7',
                            500: '#f59e0b',
                            600: '#d97706',
                        },
                        'danger': {
                            50: '#fef2f2',
                            100: '#fee2e2',
                            500: '#ef4444',
                            600: '#dc2626',
                        }
                    }
                }
            }
        }
    </script>
    
    <style>
        * { box-sizing: border-box; }
        
        body {
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 50%, #e2e8f0 100%);
            min-height: 100vh;
        }
        
        .bg-pattern {
            background-image: 
                linear-gradient(rgba(148, 163, 184, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(148, 163, 184, 0.03) 1px, transparent 1px);
            background-size: 32px 32px;
        }
        
        .project-card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .project-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 20px 40px -12px rgba(0, 0, 0, 0.1);
        }
        
        .progress-bar {
            transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        @keyframes pulse-subtle {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        .pulse-active {
            animation: pulse-subtle 2s ease-in-out infinite;
        }
        
        .milestone-table {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.3s ease;
            opacity: 0;
        }
        
        .milestone-table.expanded {
            max-height: 600px;
            opacity: 1;
        }
        
        .chevron-icon {
            transition: transform 0.3s ease;
        }
        
        .chevron-icon.rotated {
            transform: rotate(180deg);
        }
        
        .kpi-card {
            transition: all 0.2s ease;
        }
        
        .kpi-card:hover {
            background: white;
            box-shadow: 0 4px 12px -2px rgba(0, 0, 0, 0.05);
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏—è –∫–æ–ª—å—Ü–∞ –∑–¥–æ—Ä–æ–≤—å—è */
        #health-ring-progress {
            transition: stroke-dasharray 0.8s ease-in-out, stroke 0.3s ease;
        }
        
        /* –ü–æ–¥—Å–∫–∞–∑–∫–∏ */
        [title] {
            position: relative;
            cursor: help;
        }
        
        /* –î–∏–∞–≥—Ä–∞–º–º–∞ –ì–∞–Ω—Ç–∞ */
        .gantt-row {
            transition: background 0.15s ease;
        }
        .gantt-row:hover {
            background: rgba(241, 245, 249, 0.5);
        }
        .gantt-bar {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .gantt-bar:hover {
            filter: brightness(1.1);
            transform: scaleY(1.1);
        }
        .gantt-progress {
            transition: width 0.5s ease;
        }
        .gantt-today-line {
            animation: pulse-line 2s ease-in-out infinite;
        }
        @keyframes pulse-line {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .spinner {
            animation: spin 1s linear infinite;
        }
        
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .animate-fade-in {
            animation: fadeInUp 0.5s ease forwards;
        }
        
        .animate-delay-1 { animation-delay: 0.1s; }
        .animate-delay-2 { animation-delay: 0.2s; }
        .animate-delay-3 { animation-delay: 0.3s; }
        .animate-delay-4 { animation-delay: 0.4s; }
        
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: #f1f5f9; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
    </style>
<!-- Deployed: 2026-01-18T06:19:47Z -->
</head>
<body class="bg-pattern font-sans text-corporate-800 antialiased">
    
    <div class="min-h-screen flex flex-col">
        
        <!-- –®–∞–ø–∫–∞ -->
        <header class="bg-white/80 backdrop-blur-sm border-b border-corporate-200 sticky top-0 z-50">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex items-center justify-between h-16">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 bg-corporate-900 rounded-lg flex items-center justify-center">
                            <i class="fas fa-chart-gantt text-white text-lg"></i>
                        </div>
                        <div>
                            <h1 class="text-xl font-semibold text-corporate-900 tracking-tight">–î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞</h1>
                            <p class="text-xs text-corporate-500 font-medium">–°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–æ–≤</p>
                        </div>
                    </div>
                    <div class="flex items-center gap-4">
                        <div class="hidden sm:flex items-center gap-2 text-sm text-corporate-600 bg-corporate-50 px-4 py-2 rounded-full">
                            <i class="far fa-calendar-alt"></i>
                            <span id="current-date" class="font-medium"></span>
                        </div>
                        <button onclick="loadDashboard()" class="p-2 hover:bg-corporate-100 rounded-lg transition-colors" title="–û–±–Ω–æ–≤–∏—Ç—å">
                            <i class="fas fa-sync-alt text-corporate-500"></i>
                        </button>
                    </div>
                </div>
            </div>
        </header>
        
        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 flex-1">
            
            <!-- –ó–∞–≥—Ä—É–∑–∫–∞ -->
            <div id="loading-state" class="flex flex-col items-center justify-center py-24">
                <div class="w-12 h-12 border-4 border-corporate-200 border-t-corporate-600 rounded-full spinner"></div>
                <p class="mt-4 text-corporate-500 font-medium">–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤...</p>
            </div>
            
            <!-- –û—à–∏–±–∫–∞ -->
            <div id="error-state" class="hidden">
                <div class="bg-white rounded-2xl border border-danger-100 p-8 text-center max-w-lg mx-auto">
                    <div class="w-16 h-16 bg-danger-50 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-exclamation-triangle text-danger-500 text-2xl"></i>
                    </div>
                    <h3 class="text-lg font-semibold text-corporate-900 mb-2">–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ</h3>
                    <p id="error-message" class="text-corporate-500 mb-6">–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª data.txt. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ç–æ–π –∂–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏.</p>
                    <button onclick="loadDashboard()" class="inline-flex items-center gap-2 px-5 py-2.5 bg-corporate-900 text-white rounded-lg font-medium hover:bg-corporate-800 transition-colors">
                        <i class="fas fa-redo"></i>
                        –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞
                    </button>
                </div>
            </div>
            
            <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –¥–∞—à–±–æ—Ä–¥–∞ -->
            <div id="dashboard-content" class="hidden">
                
                <!-- KPI –∫–∞—Ä—Ç–æ—á–∫–∏ -->
                <section class="mb-8">
                    <div class="grid grid-cols-2 lg:grid-cols-4 gap-4">
                        
                        <div class="kpi-card bg-white/70 backdrop-blur-sm rounded-xl p-5 border border-corporate-100">
                            <div class="flex items-start justify-between">
                                <div>
                                    <p class="text-xs font-semibold text-corporate-400 uppercase tracking-wider mb-1">–í—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–æ–≤</p>
                                    <p id="kpi-total" class="text-3xl font-bold text-corporate-900">0</p>
                                </div>
                                <div class="w-10 h-10 bg-corporate-100 rounded-lg flex items-center justify-center">
                                    <i class="fas fa-folder text-corporate-500"></i>
                                </div>
                            </div>
                        </div>
                        
                        <div class="kpi-card bg-white/70 backdrop-blur-sm rounded-xl p-5 border border-corporate-100">
                            <div class="flex items-start justify-between">
                                <div>
                                    <p class="text-xs font-semibold text-corporate-400 uppercase tracking-wider mb-1">–ê–∫—Ç–∏–≤–Ω—ã—Ö</p>
                                    <p id="kpi-active" class="text-3xl font-bold text-success-600">0</p>
                                </div>
                                <div class="w-10 h-10 bg-success-50 rounded-lg flex items-center justify-center">
                                    <i class="fas fa-play-circle text-success-500"></i>
                                </div>
                            </div>
                        </div>
                        
                        <div class="kpi-card bg-white/70 backdrop-blur-sm rounded-xl p-5 border border-corporate-100">
                            <div class="flex items-start justify-between">
                                <div>
                                    <p class="text-xs font-semibold text-corporate-400 uppercase tracking-wider mb-1">–ó–∞–≤–µ—Ä—à–µ–Ω–æ</p>
                                    <p id="kpi-completed" class="text-3xl font-bold text-info-600">0</p>
                                </div>
                                <div class="w-10 h-10 bg-info-50 rounded-lg flex items-center justify-center">
                                    <i class="fas fa-check-circle text-info-500"></i>
                                </div>
                            </div>
                        </div>
                        
                        <!-- –í–∏–¥–∂–µ—Ç –∑–¥–æ—Ä–æ–≤—å—è –ø—Ä–æ–µ–∫—Ç–æ–≤ -->
                        <div class="kpi-card bg-white/70 backdrop-blur-sm rounded-xl p-5 border border-corporate-100 relative overflow-hidden">
                            <div class="flex items-start justify-between mb-3">
                                <div>
                                    <p class="text-xs font-semibold text-corporate-400 uppercase tracking-wider mb-1">–ó–¥–æ—Ä–æ–≤—å–µ</p>
                                    <div class="flex items-center gap-2">
                                        <span id="health-icon" class="text-2xl">üíö</span>
                                        <span id="health-label" class="text-lg font-bold text-success-600">–û—Ç–ª–∏—á–Ω–æ</span>
                                    </div>
                                </div>
                                <div id="health-score-ring" class="w-12 h-12 relative">
                                    <svg class="w-12 h-12 transform -rotate-90" viewBox="0 0 36 36">
                                        <path class="text-corporate-100" stroke="currentColor" stroke-width="3" fill="none"
                                              d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"/>
                                        <path id="health-ring-progress" class="text-success-500" stroke="currentColor" stroke-width="3" fill="none"
                                              stroke-linecap="round" stroke-dasharray="100, 100"
                                              d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"/>
                                    </svg>
                                    <span id="health-score-text" class="absolute inset-0 flex items-center justify-center text-xs font-bold text-corporate-700">100</span>
                                </div>
                            </div>
                            <div id="health-breakdown" class="flex items-center gap-1 text-xs">
                                <span class="inline-flex items-center gap-1 px-1.5 py-0.5 rounded bg-success-50 text-success-700" title="–û–ø–µ—Ä–µ–∂–µ–Ω–∏–µ">
                                    <i class="fas fa-rocket text-[10px]"></i><span id="health-ahead">0</span>
                                </span>
                                <span class="inline-flex items-center gap-1 px-1.5 py-0.5 rounded bg-info-50 text-info-700" title="–ü–æ –ø–ª–∞–Ω—É">
                                    <i class="fas fa-check text-[10px]"></i><span id="health-ontrack">0</span>
                                </span>
                                <span class="inline-flex items-center gap-1 px-1.5 py-0.5 rounded bg-warning-50 text-warning-700" title="–û—Ç—Å—Ç–∞–≤–∞–Ω–∏–µ">
                                    <i class="fas fa-clock text-[10px]"></i><span id="health-behind">0</span>
                                </span>
                                <span class="inline-flex items-center gap-1 px-1.5 py-0.5 rounded bg-danger-50 text-danger-700" title="–ö—Ä–∏—Ç–∏—á–Ω–æ">
                                    <i class="fas fa-fire text-[10px]"></i><span id="health-critical">0</span>
                                </span>
                            </div>
                        </div>
                        
                    </div>
                </section>
                
                <!-- –î–∏–∞–≥—Ä–∞–º–º–∞ –ì–∞–Ω—Ç–∞ -->
                <section class="mb-8">
                    <div class="bg-white/70 backdrop-blur-sm rounded-2xl border border-corporate-100 overflow-hidden">
                        <div class="px-6 py-4 border-b border-corporate-100 flex items-center justify-between">
                            <div class="flex items-center gap-3">
                                <div class="w-8 h-8 bg-corporate-100 rounded-lg flex items-center justify-center">
                                    <i class="fas fa-chart-gantt text-corporate-600"></i>
                                </div>
                                <h2 class="text-lg font-semibold text-corporate-900">–¢–∞–π–º–ª–∞–π–Ω –ø—Ä–æ–µ–∫—Ç–æ–≤</h2>
                            </div>
                            <div class="flex items-center gap-4 text-xs">
                                <span class="flex items-center gap-1.5">
                                    <span class="w-3 h-3 rounded bg-success-500"></span> –ê–∫—Ç–∏–≤–Ω—ã–π
                                </span>
                                <span class="flex items-center gap-1.5">
                                    <span class="w-3 h-3 rounded bg-info-500"></span> –ó–∞–≤–µ—Ä—à—ë–Ω
                                </span>
                                <span class="flex items-center gap-1.5">
                                    <span class="w-3 h-3 rounded bg-corporate-300"></span> –í –æ—á–µ—Ä–µ–¥–∏
                                </span>
                                <span class="flex items-center gap-1.5">
                                    <span class="w-3 h-3 rounded bg-danger-500"></span> –ü—Ä–æ—Å—Ä–æ—á–µ–Ω
                                </span>
                            </div>
                        </div>
                        <div class="p-4 overflow-x-auto">
                            <div id="gantt-chart" class="min-w-[800px]">
                                <!-- –î–∏–∞–≥—Ä–∞–º–º–∞ –±—É–¥–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞ JS -->
                            </div>
                        </div>
                    </div>
                </section>
                
                <!-- –§–∏–ª—å—Ç—Ä—ã -->
                <section class="mb-6">
                    <div class="flex items-center gap-2 flex-wrap">
                        <button onclick="filterProjects('all')" data-filter="all" class="filter-btn active px-4 py-2 rounded-lg text-sm font-medium transition-all bg-corporate-900 text-white">
                            –í—Å–µ –ø—Ä–æ–µ–∫—Ç—ã
                        </button>
                        <button onclick="filterProjects('active')" data-filter="active" class="filter-btn px-4 py-2 rounded-lg text-sm font-medium transition-all bg-white text-corporate-600 border border-corporate-200 hover:border-corporate-300">
                            <i class="fas fa-circle text-success-500 text-xs mr-1.5"></i>–ê–∫—Ç–∏–≤–Ω—ã–µ
                        </button>
                        <button onclick="filterProjects('queue')" data-filter="queue" class="filter-btn px-4 py-2 rounded-lg text-sm font-medium transition-all bg-white text-corporate-600 border border-corporate-200 hover:border-corporate-300">
                            <i class="fas fa-circle text-corporate-400 text-xs mr-1.5"></i>–í –æ—á–µ—Ä–µ–¥–∏
                        </button>
                        <button onclick="filterProjects('completed')" data-filter="completed" class="filter-btn px-4 py-2 rounded-lg text-sm font-medium transition-all bg-white text-corporate-600 border border-corporate-200 hover:border-corporate-300">
                            <i class="fas fa-circle text-info-500 text-xs mr-1.5"></i>–ó–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ
                        </button>
                        <button onclick="filterProjects('delayed')" data-filter="delayed" class="filter-btn px-4 py-2 rounded-lg text-sm font-medium transition-all bg-white text-corporate-600 border border-corporate-200 hover:border-corporate-300">
                            <i class="fas fa-circle text-danger-500 text-xs mr-1.5"></i>–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ
                        </button>
                    </div>
                </section>
                
                <!-- –°–µ—Ç–∫–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤ -->
                <section id="projects-grid" class="grid gap-5 md:grid-cols-2 xl:grid-cols-3"></section>
                
                <!-- –ü—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ -->
                <div id="empty-state" class="hidden text-center py-16">
                    <div class="w-16 h-16 bg-corporate-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-inbox text-corporate-400 text-2xl"></i>
                    </div>
                    <h3 class="text-lg font-semibold text-corporate-700 mb-2">–ü—Ä–æ–µ–∫—Ç—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</h3>
                    <p class="text-corporate-500">–ù–µ—Ç –ø—Ä–æ–µ–∫—Ç–æ–≤, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É —Ñ–∏–ª—å—Ç—Ä—É.</p>
                </div>
                
            </div>
            
        </main>
        
        <!-- –ü–æ–¥–≤–∞–ª -->
        <footer class="border-t border-corporate-200 bg-white/50 mt-auto">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
                <div class="flex items-center justify-between text-sm text-corporate-500">
                    <p>¬© 2025 –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤</p>
                    <p class="flex items-center gap-1">
                        <i class="fas fa-code text-corporate-400"></i>
                        –°–¥–µ–ª–∞–Ω–æ —Å –∑–∞–±–æ—Ç–æ–π
                    </p>
                </div>
            </div>
        </footer>
        
    </div>
    
    <script>
        // ================================
        // –ì–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
        // ================================
        let allProjects = [];
        let currentFilter = 'all';
        
        // ================================
        // –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è –¥–∞—Ç
        // ================================
        const MONTHS_RU = ['—è–Ω–≤', '—Ñ–µ–≤', '–º–∞—Ä', '–∞–ø—Ä', '–º–∞—è', '–∏—é–Ω', '–∏—é–ª', '–∞–≤–≥', '—Å–µ–Ω', '–æ–∫—Ç', '–Ω–æ—è', '–¥–µ–∫'];
        const MONTHS_FULL_RU = ['—è–Ω–≤–∞—Ä—è', '—Ñ–µ–≤—Ä–∞–ª—è', '–º–∞—Ä—Ç–∞', '–∞–ø—Ä–µ–ª—è', '–º–∞—è', '–∏—é–Ω—è', '–∏—é–ª—è', '–∞–≤–≥—É—Å—Ç–∞', '—Å–µ–Ω—Ç—è–±—Ä—è', '–æ–∫—Ç—è–±—Ä—è', '–Ω–æ—è–±—Ä—è', '–¥–µ–∫–∞–±—Ä—è'];
        const WEEKDAYS_RU = ['–í—Å', '–ü–Ω', '–í—Ç', '–°—Ä', '–ß—Ç', '–ü—Ç', '–°–±'];
        
        function formatDate(dateStr) {
            const date = new Date(dateStr);
            return `${date.getDate()} ${MONTHS_RU[date.getMonth()]} ${date.getFullYear()}`;
        }
        
        function formatDateShort(dateStr) {
            const date = new Date(dateStr);
            return `${date.getDate()} ${MONTHS_RU[date.getMonth()]}`;
        }
        
        function getCurrentDate() {
            return new Date().toISOString().split('T')[0];
        }
        
        function displayCurrentDate() {
            const now = new Date();
            const weekday = WEEKDAYS_RU[now.getDay()];
            const day = now.getDate();
            const month = MONTHS_FULL_RU[now.getMonth()];
            const year = now.getFullYear();
            document.getElementById('current-date').textContent = `${weekday}, ${day} ${month} ${year}`;
        }
        
        // ================================
        // –ü–∞—Ä—Å–µ—Ä Markdown
        // ================================
        function parseMarkdownToProjects(markdown) {
            const projects = [];
            
            // –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º –Ω–∞—á–∞–ª–æ —Ñ–∞–π–ª–∞
            const normalizedMarkdown = markdown.trimStart();
            
            // –†–∞–∑–¥–µ–ª—è–µ–º –ø–æ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º –ø–µ—Ä–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è
            const projectBlocks = normalizedMarkdown.split(/(?=^# )/m).filter(block => block.trim());
            
            for (const block of projectBlocks) {
                const project = parseProjectBlock(block);
                if (project) {
                    projects.push(project);
                }
            }
            
            return projects;
        }
        
        function parseProjectBlock(block) {
            const nameMatch = block.match(/^#\s+(.+)$/m);
            if (!nameMatch) return null;
            
            const name = nameMatch[1].trim();
            
            const metaMatch = block.match(/^>\s*Start:\s*(\d{4}-\d{2}-\d{2})\s*\|\s*End:\s*(\d{4}-\d{2}-\d{2})/m);
            if (!metaMatch) return null;
            
            const startDate = metaMatch[1];
            const endDate = metaMatch[2];
            
            const milestones = parseMilestoneTable(block);
            
            const doneCount = milestones.filter(m => m.status.toLowerCase().includes('done')).length;
            const progress = milestones.length > 0 ? Math.round((doneCount / milestones.length) * 100) : 0;
            
            const status = calculateProjectStatus(startDate, endDate, progress);
            
            const nextMilestone = milestones.find(m => !m.status.toLowerCase().includes('done'));
            
            return {
                name,
                startDate,
                endDate,
                milestones,
                progress,
                status,
                nextMilestone,
                doneCount,
                totalMilestones: milestones.length
            };
        }
        
        function parseMilestoneTable(block) {
            const milestones = [];
            const lines = block.split('\n');
            
            let inTable = false;
            let headerPassed = false;
            
            for (const line of lines) {
                const trimmed = line.trim();
                
                if (trimmed.startsWith('|') && (trimmed.toLowerCase().includes('milestone') || trimmed.toLowerCase().includes('—ç—Ç–∞–ø'))) {
                    inTable = true;
                    continue;
                }
                
                if (inTable && trimmed.match(/^\|[\s:-]+\|/)) {
                    headerPassed = true;
                    continue;
                }
                
                if (inTable && headerPassed && trimmed.startsWith('|')) {
                    const cells = trimmed.split('|').map(c => c.trim()).filter(c => c);
                    if (cells.length >= 3) {
                        milestones.push({
                            name: cells[0],
                            date: cells[1],
                            status: cells[2]
                        });
                    }
                }
                
                if (inTable && headerPassed && !trimmed.startsWith('|') && trimmed !== '') {
                    break;
                }
            }
            
            return milestones;
        }
        
        function calculateProjectStatus(startDate, endDate, progress) {
            const today = getCurrentDate();
            
            if (progress === 100) return 'completed';
            if (startDate > today) return 'queue';
            if (today > endDate && progress < 100) return 'delayed';
            if (today >= startDate && today <= endDate) return 'active';
            
            return 'active';
        }
        
        // ================================
        // –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ UI
        // ================================
        function getStatusConfig(status) {
            const configs = {
                active: {
                    label: '–ê–∫—Ç–∏–≤–Ω—ã–π',
                    bgClass: 'bg-success-50',
                    textClass: 'text-success-700',
                    borderClass: 'border-success-200',
                    dotClass: 'bg-success-500',
                    progressClass: 'bg-success-500'
                },
                completed: {
                    label: '–ó–∞–≤–µ—Ä—à—ë–Ω',
                    bgClass: 'bg-info-50',
                    textClass: 'text-info-700',
                    borderClass: 'border-info-200',
                    dotClass: 'bg-info-500',
                    progressClass: 'bg-info-500'
                },
                queue: {
                    label: '–í –æ—á–µ—Ä–µ–¥–∏',
                    bgClass: 'bg-corporate-100',
                    textClass: 'text-corporate-600',
                    borderClass: 'border-corporate-200',
                    dotClass: 'bg-corporate-400',
                    progressClass: 'bg-corporate-400'
                },
                delayed: {
                    label: '–ü—Ä–æ—Å—Ä–æ—á–µ–Ω',
                    bgClass: 'bg-danger-50',
                    textClass: 'text-danger-700',
                    borderClass: 'border-danger-200',
                    dotClass: 'bg-danger-500',
                    progressClass: 'bg-danger-500'
                }
            };
            return configs[status] || configs.active;
        }
        
        function renderProjectCard(project, index) {
            const config = getStatusConfig(project.status);
            const cardId = `project-${index}`;
            
            const nextMilestoneHtml = project.nextMilestone 
                ? `<div class="flex items-center gap-2">
                        <i class="fas fa-arrow-right text-corporate-400 text-xs"></i>
                        <span class="font-medium text-corporate-700">${project.nextMilestone.name}</span>
                        <span class="text-corporate-400">¬∑</span>
                        <span class="text-corporate-500 text-xs">${formatDateShort(project.nextMilestone.date)}</span>
                   </div>`
                : `<div class="flex items-center gap-2 text-success-600">
                        <i class="fas fa-check-circle"></i>
                        <span class="font-medium">–í—Å–µ —ç—Ç–∞–ø—ã –∑–∞–≤–µ—Ä—à–µ–Ω—ã</span>
                   </div>`;
            
            const milestonesTableHtml = project.milestones.map(m => {
                const isDone = m.status.toLowerCase().includes('done');
                const isInProgress = m.status.toLowerCase().includes('progress');
                
                let statusBadge;
                if (isDone) {
                    statusBadge = `<span class="inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium bg-success-50 text-success-700">
                                    <i class="fas fa-check text-[10px]"></i> –ì–æ—Ç–æ–≤–æ
                                  </span>`;
                } else if (isInProgress) {
                    statusBadge = `<span class="inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium bg-warning-50 text-warning-700">
                                    <i class="fas fa-spinner text-[10px]"></i> –í —Ä–∞–±–æ—Ç–µ
                                  </span>`;
                } else {
                    statusBadge = `<span class="inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium bg-corporate-100 text-corporate-600">
                                    <i class="far fa-circle text-[10px]"></i> –û–∂–∏–¥–∞–µ—Ç
                                  </span>`;
                }
                
                return `<tr class="border-b border-corporate-100 last:border-0">
                            <td class="py-2.5 pr-4">
                                <span class="${isDone ? 'text-corporate-400 line-through' : 'text-corporate-700'}">${m.name}</span>
                            </td>
                            <td class="py-2.5 pr-4 text-xs text-corporate-500">${formatDateShort(m.date)}</td>
                            <td class="py-2.5">${statusBadge}</td>
                        </tr>`;
            }).join('');
            
            return `
                <article class="project-card bg-white rounded-2xl border border-corporate-100 overflow-hidden opacity-0 animate-fade-in animate-delay-${(index % 4) + 1}" data-status="${project.status}">
                    
                    <div class="p-5 pb-4">
                        <div class="flex items-start justify-between gap-3 mb-4">
                            <h3 class="text-lg font-semibold text-corporate-900 leading-tight">${project.name}</h3>
                            <span class="shrink-0 inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-semibold ${config.bgClass} ${config.textClass} border ${config.borderClass}">
                                <span class="w-1.5 h-1.5 rounded-full ${config.dotClass} ${project.status === 'active' ? 'pulse-active' : ''}"></span>
                                ${config.label}
                            </span>
                        </div>
                        
                        <div class="flex items-center gap-3 text-sm text-corporate-500 mb-4">
                            <div class="flex items-center gap-1.5">
                                <i class="far fa-calendar text-corporate-400"></i>
                                <span class="text-xs">${formatDate(project.startDate)}</span>
                            </div>
                            <i class="fas fa-arrow-right text-corporate-300 text-xs"></i>
                            <span class="text-xs">${formatDate(project.endDate)}</span>
                        </div>
                        
                        <div class="mb-4">
                            <div class="flex items-center justify-between mb-1.5">
                                <span class="text-xs font-medium text-corporate-500">–ü—Ä–æ–≥—Ä–µ—Å—Å</span>
                                <span class="text-sm font-bold ${config.textClass}">${project.progress}%</span>
                            </div>
                            <div class="h-2 bg-corporate-100 rounded-full overflow-hidden">
                                <div class="progress-bar h-full rounded-full ${config.progressClass}" style="width: ${project.progress}%"></div>
                            </div>
                            <div class="flex justify-between mt-1">
                                <span class="text-xs text-corporate-400">${project.doneCount} –∏–∑ ${project.totalMilestones} —ç—Ç–∞–ø–æ–≤</span>
                            </div>
                        </div>
                        
                        <div class="bg-corporate-50 rounded-lg p-3 text-sm">
                            <p class="text-xs text-corporate-400 uppercase tracking-wider font-semibold mb-1.5">
                                ${project.nextMilestone ? '–°–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø' : '–°—Ç–∞—Ç—É—Å'}
                            </p>
                            ${nextMilestoneHtml}
                        </div>
                    </div>
                    
                    <div class="border-t border-corporate-100">
                        <button onclick="toggleMilestones('${cardId}')" class="w-full px-5 py-3 flex items-center justify-between text-sm font-medium text-corporate-600 hover:bg-corporate-50 transition-colors">
                            <span class="flex items-center gap-2">
                                <i class="fas fa-list-check text-corporate-400"></i>
                                –í—Å–µ —ç—Ç–∞–ø—ã
                            </span>
                            <i id="${cardId}-chevron" class="fas fa-chevron-down text-corporate-400 chevron-icon"></i>
                        </button>
                        
                        <div id="${cardId}-table" class="milestone-table px-5">
                            <table class="w-full text-sm mb-4">
                                <thead>
                                    <tr class="border-b border-corporate-200">
                                        <th class="py-2 text-left text-xs font-semibold text-corporate-400 uppercase tracking-wider">–≠—Ç–∞–ø</th>
                                        <th class="py-2 text-left text-xs font-semibold text-corporate-400 uppercase tracking-wider">–î–∞—Ç–∞</th>
                                        <th class="py-2 text-left text-xs font-semibold text-corporate-400 uppercase tracking-wider">–°—Ç–∞—Ç—É—Å</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    ${milestonesTableHtml}
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                </article>
            `;
        }
        
        function renderDashboard(projects) {
            const statusOrder = { active: 0, delayed: 1, queue: 2, completed: 3 };
            const sortedProjects = [...projects].sort((a, b) => statusOrder[a.status] - statusOrder[b.status]);
            
            allProjects = sortedProjects;
            
            updateKPIs(projects);
            renderGanttChart(projects);
            renderFilteredProjects('all');
            
            document.getElementById('loading-state').classList.add('hidden');
            document.getElementById('dashboard-content').classList.remove('hidden');
        }
        
        function updateKPIs(projects) {
            const total = projects.length;
            const active = projects.filter(p => p.status === 'active').length;
            const completed = projects.filter(p => p.status === 'completed').length;
            
            document.getElementById('kpi-total').textContent = total;
            document.getElementById('kpi-active').textContent = active;
            document.getElementById('kpi-completed').textContent = completed;
            
            // –†–∞—Å—á—ë—Ç –∑–¥–æ—Ä–æ–≤—å—è –ø—Ä–æ–µ–∫—Ç–æ–≤
            updateHealthWidget(projects);
        }
        
        function calculateProjectHealth(project) {
            // –î–ª—è –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ - –≤—Å–µ–≥–¥–∞ "–æ—Ç–ª–∏—á–Ω–æ"
            if (project.status === 'completed') {
                return { status: 'completed', diff: 100 };
            }
            
            // –î–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤ –≤ –æ—á–µ—Ä–µ–¥–∏ - –Ω–µ –æ—Ü–µ–Ω–∏–≤–∞–µ–º
            if (project.status === 'queue') {
                return { status: 'queue', diff: 0 };
            }
            
            const today = new Date();
            const start = new Date(project.startDate);
            const end = new Date(project.endDate);
            
            // –û–∂–∏–¥–∞–µ–º—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å –Ω–∞ —Å–µ–≥–æ–¥–Ω—è (–≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö)
            const totalDuration = end - start;
            const elapsed = today - start;
            const expectedProgress = Math.min(100, Math.max(0, (elapsed / totalDuration) * 100));
            
            // –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å
            const actualProgress = project.progress;
            
            // –†–∞–∑–Ω–∏—Ü–∞ (–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–∞—è = –æ–ø–µ—Ä–µ–∂–µ–Ω–∏–µ, –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è = –æ—Ç—Å—Ç–∞–≤–∞–Ω–∏–µ)
            const diff = actualProgress - expectedProgress;
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Å—Ç–∞—Ç—É—Å –∑–¥–æ—Ä–æ–≤—å—è
            if (diff >= 10) {
                return { status: 'ahead', diff }; // –û–ø–µ—Ä–µ–∂–µ–Ω–∏–µ
            } else if (diff >= -10) {
                return { status: 'ontrack', diff }; // –ü–æ –ø–ª–∞–Ω—É
            } else if (diff >= -25) {
                return { status: 'behind', diff }; // –ù–µ–±–æ–ª—å—à–æ–µ –æ—Ç—Å—Ç–∞–≤–∞–Ω–∏–µ
            } else {
                return { status: 'critical', diff }; // –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç—Å—Ç–∞–≤–∞–Ω–∏–µ
            }
        }
        
        function updateHealthWidget(projects) {
            // –°—á–∏—Ç–∞–µ–º —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ –∏ –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã
            const relevantProjects = projects.filter(p => p.status === 'active' || p.status === 'delayed');
            
            let ahead = 0, ontrack = 0, behind = 0, critical = 0;
            let totalScore = 0;
            
            for (const project of relevantProjects) {
                const health = calculateProjectHealth(project);
                
                switch (health.status) {
                    case 'ahead': ahead++; totalScore += 100; break;
                    case 'ontrack': ontrack++; totalScore += 75; break;
                    case 'behind': behind++; totalScore += 40; break;
                    case 'critical': critical++; totalScore += 10; break;
                }
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á—ë—Ç—á–∏–∫–∏
            document.getElementById('health-ahead').textContent = ahead;
            document.getElementById('health-ontrack').textContent = ontrack;
            document.getElementById('health-behind').textContent = behind;
            document.getElementById('health-critical').textContent = critical;
            
            // –°—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª –∑–¥–æ—Ä–æ–≤—å—è
            const avgScore = relevantProjects.length > 0 
                ? Math.round(totalScore / relevantProjects.length) 
                : 100;
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –æ–±—â–∏–π —Å—Ç–∞—Ç—É—Å
            let icon, label, colorClass, ringColor;
            
            if (relevantProjects.length === 0) {
                icon = '‚ú®'; label = '–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö'; colorClass = 'text-corporate-500'; ringColor = 'text-corporate-400';
            } else if (critical > 0 || avgScore < 30) {
                icon = 'üî•'; label = '–ö—Ä–∏—Ç–∏—á–Ω–æ'; colorClass = 'text-danger-600'; ringColor = 'text-danger-500';
            } else if (behind > 0 || avgScore < 50) {
                icon = '‚ö†Ô∏è'; label = '–í–Ω–∏–º–∞–Ω–∏–µ'; colorClass = 'text-warning-600'; ringColor = 'text-warning-500';
            } else if (ahead > ontrack) {
                icon = 'üöÄ'; label = '–û–ø–µ—Ä–µ–∂–∞–µ–º'; colorClass = 'text-success-600'; ringColor = 'text-success-500';
            } else if (avgScore >= 70) {
                icon = 'üíö'; label = '–û—Ç–ª–∏—á–Ω–æ'; colorClass = 'text-success-600'; ringColor = 'text-success-500';
            } else {
                icon = 'üëç'; label = '–•–æ—Ä–æ—à–æ'; colorClass = 'text-info-600'; ringColor = 'text-info-500';
            }
            
            document.getElementById('health-icon').textContent = icon;
            document.getElementById('health-label').textContent = label;
            document.getElementById('health-label').className = `text-lg font-bold ${colorClass}`;
            document.getElementById('health-score-text').textContent = avgScore;
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –∫–æ–ª—å—Ü–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
            const ring = document.getElementById('health-ring-progress');
            ring.className = ringColor;
            ring.style.strokeDasharray = `${avgScore}, 100`;
        }
        
        function renderGanttChart(projects) {
            const container = document.getElementById('gantt-chart');
            if (!container || projects.length === 0) return;
            
            // –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø—Ä–æ–µ–∫—Ç—ã –ø–æ –¥–∞—Ç–µ –Ω–∞—á–∞–ª–∞
            const sortedProjects = [...projects].sort((a, b) => 
                new Date(a.startDate) - new Date(b.startDate)
            );
            
            // –ù–∞—Ö–æ–¥–∏–º –¥–∏–∞–ø–∞–∑–æ–Ω –¥–∞—Ç
            const allDates = projects.flatMap(p => [new Date(p.startDate), new Date(p.endDate)]);
            let minDate = new Date(Math.min(...allDates));
            let maxDate = new Date(Math.max(...allDates));
            
            // –†–∞—Å—à–∏—Ä—è–µ–º –¥–∏–∞–ø–∞–∑–æ–Ω –¥–æ –Ω–∞—á–∞–ª–∞/–∫–æ–Ω—Ü–∞ –º–µ—Å—è—Ü–∞
            minDate = new Date(minDate.getFullYear(), minDate.getMonth(), 1);
            maxDate = new Date(maxDate.getFullYear(), maxDate.getMonth() + 1, 0);
            
            // –î–æ–±–∞–≤–ª—è–µ–º –º–µ—Å—è—Ü –¥–æ –∏ –ø–æ—Å–ª–µ
            minDate.setMonth(minDate.getMonth() - 1);
            maxDate.setMonth(maxDate.getMonth() + 1);
            
            const totalDays = Math.ceil((maxDate - minDate) / (1000 * 60 * 60 * 24));
            const today = new Date();
            const todayOffset = Math.ceil((today - minDate) / (1000 * 60 * 60 * 24));
            const todayPercent = (todayOffset / totalDays) * 100;
            
            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –º–µ—Å—è—Ü—ã –¥–ª—è —à–∫–∞–ª—ã
            const months = [];
            let currentMonth = new Date(minDate);
            while (currentMonth <= maxDate) {
                const monthStart = new Date(currentMonth);
                const monthEnd = new Date(currentMonth.getFullYear(), currentMonth.getMonth() + 1, 0);
                const startOffset = Math.max(0, Math.ceil((monthStart - minDate) / (1000 * 60 * 60 * 24)));
                const endOffset = Math.min(totalDays, Math.ceil((monthEnd - minDate) / (1000 * 60 * 60 * 24)));
                const widthPercent = ((endOffset - startOffset) / totalDays) * 100;
                
                months.push({
                    name: MONTHS_RU[currentMonth.getMonth()].toUpperCase(),
                    year: currentMonth.getFullYear(),
                    startPercent: (startOffset / totalDays) * 100,
                    widthPercent: widthPercent
                });
                
                currentMonth.setMonth(currentMonth.getMonth() + 1);
            }
            
            // –¶–≤–µ—Ç–∞ –ø–æ —Å—Ç–∞—Ç—É—Å—É
            const statusColors = {
                active: { bg: 'bg-success-500', light: 'bg-success-200', text: 'text-success-700' },
                completed: { bg: 'bg-info-500', light: 'bg-info-200', text: 'text-info-700' },
                queue: { bg: 'bg-corporate-400', light: 'bg-corporate-200', text: 'text-corporate-600' },
                delayed: { bg: 'bg-danger-500', light: 'bg-danger-200', text: 'text-danger-700' }
            };
            
            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º HTML
            let html = `
                <div class="relative">
                    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å –º–µ—Å—è—Ü–∞–º–∏ -->
                    <div class="flex border-b border-corporate-200 mb-2">
                        <div class="w-48 flex-shrink-0 pr-4 py-2">
                            <span class="text-xs font-semibold text-corporate-400 uppercase">–ü—Ä–æ–µ–∫—Ç</span>
                        </div>
                        <div class="flex-1 relative flex">
                            ${months.map(m => `
                                <div class="text-center py-2 border-l border-corporate-100 first:border-l-0" 
                                     style="width: ${m.widthPercent}%; min-width: 60px;">
                                    <span class="text-xs font-semibold text-corporate-500">${m.name}</span>
                                    <span class="text-xs text-corporate-400 ml-1">${m.year}</span>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                    
                    <!-- –ü—Ä–æ–µ–∫—Ç—ã -->
                    <div class="relative">
                        <!-- –õ–∏–Ω–∏—è "–°–µ–≥–æ–¥–Ω—è" -->
                        ${todayPercent >= 0 && todayPercent <= 100 ? `
                            <div class="absolute top-0 bottom-0 w-0.5 bg-danger-500 gantt-today-line z-10" 
                                 style="left: calc(192px + (100% - 192px) * ${todayPercent / 100});">
                                <div class="absolute -top-1 left-1/2 -translate-x-1/2 px-1.5 py-0.5 bg-danger-500 text-white text-[10px] font-bold rounded whitespace-nowrap">
                                    –°–µ–≥–æ–¥–Ω—è
                                </div>
                            </div>
                        ` : ''}
                        
                        ${sortedProjects.map((project, index) => {
                            const startOffset = Math.ceil((new Date(project.startDate) - minDate) / (1000 * 60 * 60 * 24));
                            const endOffset = Math.ceil((new Date(project.endDate) - minDate) / (1000 * 60 * 60 * 24));
                            const leftPercent = (startOffset / totalDays) * 100;
                            const widthPercent = ((endOffset - startOffset) / totalDays) * 100;
                            const colors = statusColors[project.status] || statusColors.active;
                            
                            // –ö–æ—Ä–æ—Ç–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ (–¥–æ —Å–∫–æ–±–∫–∏)
                            const shortName = project.name.includes('(') 
                                ? project.name.split('(')[0].trim() 
                                : project.name;
                            
                            return `
                                <div class="flex items-center gantt-row py-1.5 rounded ${index % 2 === 0 ? '' : 'bg-corporate-50/30'}">
                                    <div class="w-48 flex-shrink-0 pr-4">
                                        <div class="flex items-center gap-2">
                                            <span class="w-2 h-2 rounded-full ${colors.bg} flex-shrink-0"></span>
                                            <span class="text-sm font-medium text-corporate-700 truncate" title="${project.name}">
                                                ${shortName}
                                            </span>
                                        </div>
                                    </div>
                                    <div class="flex-1 relative h-7">
                                        <!-- –§–æ–Ω–æ–≤—ã–µ –ª–∏–Ω–∏–∏ –º–µ—Å—è—Ü–µ–≤ -->
                                        ${months.map((m, i) => `
                                            <div class="absolute top-0 bottom-0 border-l border-corporate-100 ${i === 0 ? 'border-l-0' : ''}" 
                                                 style="left: ${m.startPercent}%;"></div>
                                        `).join('')}
                                        
                                        <!-- –ü–æ–ª–æ—Å–∞ –ø—Ä–æ–µ–∫—Ç–∞ -->
                                        <div class="gantt-bar absolute top-1 bottom-1 rounded-full ${colors.light} overflow-hidden shadow-sm"
                                             style="left: ${leftPercent}%; width: ${widthPercent}%;"
                                             title="${project.name}: ${formatDate(project.startDate)} ‚Äî ${formatDate(project.endDate)} (${project.progress}%)">
                                            <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å -->
                                            <div class="gantt-progress absolute inset-y-0 left-0 ${colors.bg} rounded-full"
                                                 style="width: ${project.progress}%;"></div>
                                            <!-- –ü—Ä–æ—Ü–µ–Ω—Ç -->
                                            <span class="absolute inset-0 flex items-center justify-center text-[10px] font-bold ${colors.text}">
                                                ${project.progress}%
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            `;
                        }).join('')}
                    </div>
                </div>
            `;
            
            container.innerHTML = html;
        }
        
        function renderFilteredProjects(filter) {
            currentFilter = filter;
            
            const filtered = filter === 'all' 
                ? allProjects 
                : allProjects.filter(p => p.status === filter);
            
            const grid = document.getElementById('projects-grid');
            const emptyState = document.getElementById('empty-state');
            
            if (filtered.length === 0) {
                grid.innerHTML = '';
                emptyState.classList.remove('hidden');
            } else {
                emptyState.classList.add('hidden');
                grid.innerHTML = filtered.map((p, i) => renderProjectCard(p, i)).join('');
            }
            
            document.querySelectorAll('.filter-btn').forEach(btn => {
                if (btn.dataset.filter === filter) {
                    btn.classList.remove('bg-white', 'text-corporate-600', 'border', 'border-corporate-200', 'hover:border-corporate-300');
                    btn.classList.add('bg-corporate-900', 'text-white');
                } else {
                    btn.classList.add('bg-white', 'text-corporate-600', 'border', 'border-corporate-200', 'hover:border-corporate-300');
                    btn.classList.remove('bg-corporate-900', 'text-white');
                }
            });
        }
        
        function filterProjects(filter) {
            renderFilteredProjects(filter);
        }
        
        function toggleMilestones(cardId) {
            const table = document.getElementById(`${cardId}-table`);
            const chevron = document.getElementById(`${cardId}-chevron`);
            
            table.classList.toggle('expanded');
            chevron.classList.toggle('rotated');
        }
        
        // ================================
        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
        // ================================
        async function loadDashboard(retryCount = 0) {
            const MAX_RETRIES = 3;
            const RETRY_DELAY = 2000; // 2 —Å–µ–∫—É–Ω–¥—ã
            
            document.getElementById('loading-state').classList.remove('hidden');
            document.getElementById('error-state').classList.add('hidden');
            document.getElementById('dashboard-content').classList.add('hidden');
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω–æ–º–µ—Ä –ø–æ–ø—ã—Ç–∫–∏ –µ—Å–ª–∏ —ç—Ç–æ –ø–æ–≤—Ç–æ—Ä
            const loadingText = document.querySelector('#loading-state p');
            if (retryCount > 0) {
                loadingText.textContent = `–ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞ ${retryCount}/${MAX_RETRIES}...`;
            } else {
                loadingText.textContent = '–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤...';
            }
            
            try {
                // –ü—Ä–æ–±—É–µ–º –∑–∞–≥—Ä—É–∑–∏—Ç—å data.txt
                const response = await fetch('./data.txt', {
                    cache: 'no-cache'
                });
                
                // –î–ª—è –æ—à–∏–±–æ–∫ 502, 503, 504 - –ø—Ä–æ–±—É–µ–º –ø–æ–≤—Ç–æ—Ä–∏—Ç—å
                if (response.status >= 500 && response.status < 600) {
                    if (retryCount < MAX_RETRIES) {
                        console.log(`–û—à–∏–±–∫–∞ ${response.status}, –ø–æ–≤—Ç–æ—Ä —á–µ—Ä–µ–∑ ${RETRY_DELAY/1000} —Å–µ–∫...`);
                        await new Promise(resolve => setTimeout(resolve, RETRY_DELAY));
                        return loadDashboard(retryCount + 1);
                    }
                }
                
                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }
                
                const markdown = await response.text();
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ markdown, –∞ –Ω–µ HTML —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—à–∏–±–∫–∏
                const trimmedMarkdown = markdown.trim().toLowerCase();
                if (trimmedMarkdown.startsWith('<!doctype') || trimmedMarkdown.startsWith('<html')) {
                    throw new Error('–§–∞–π–ª data.txt –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –µ–≥–æ –Ω–∞ GitHub.');
                }
                
                const projects = parseMarkdownToProjects(markdown);
                
                if (projects.length === 0) {
                    throw new Error('–ù–µ –Ω–∞–π–¥–µ–Ω–æ –ø—Ä–æ–µ–∫—Ç–æ–≤ –≤ —Ñ–∞–π–ª–µ data.txt. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞.');
                }
                
                renderDashboard(projects);
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:', error);
                
                // –î–ª—è —Å–µ—Ç–µ–≤—ã—Ö –æ—à–∏–±–æ–∫ —Ç–æ–∂–µ –ø—Ä–æ–±—É–µ–º –ø–æ–≤—Ç–æ—Ä–∏—Ç—å
                if (retryCount < MAX_RETRIES && (error.message.includes('Failed to fetch') || error.message.includes('NetworkError'))) {
                    console.log(`–°–µ—Ç–µ–≤–∞—è –æ—à–∏–±–∫–∞, –ø–æ–≤—Ç–æ—Ä —á–µ—Ä–µ–∑ ${RETRY_DELAY/1000} —Å–µ–∫...`);
                    await new Promise(resolve => setTimeout(resolve, RETRY_DELAY));
                    return loadDashboard(retryCount + 1);
                }
                
                document.getElementById('loading-state').classList.add('hidden');
                document.getElementById('error-state').classList.remove('hidden');
                
                // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –æ—à–∏–±–∫–∏ –¥–ª—è –ø–æ–Ω—è—Ç–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
                let errorMsg = error.message;
                if (error.message.includes('Failed to fetch') || error.message.includes('NetworkError')) {
                    errorMsg = '–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∏ –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É.';
                } else if (error.message.includes('404')) {
                    errorMsg = '–§–∞–π–ª data.txt –Ω–µ –Ω–∞–π–¥–µ–Ω. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ç–æ–π –∂–µ –ø–∞–ø–∫–µ, —á—Ç–æ –∏ index.html';
                } else if (error.message.includes('502') || error.message.includes('503') || error.message.includes('504')) {
                    errorMsg = '–°–µ—Ä–≤–µ—Ä –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É —á–µ—Ä–µ–∑ –º–∏–Ω—É—Ç—É.';
                }
                
                document.getElementById('error-message').textContent = errorMsg;
            }
        }
        
        // ================================
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        // ================================
        document.addEventListener('DOMContentLoaded', () => {
            displayCurrentDate();
            loadDashboard();
        });
    </script>
    
</body>
</html>
